{"ast":null,"code":"var _jsxFileName = \"/Users/michael/django_react_test/django-react-boilerplate/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport img_up from \"./Image/up.png\";\nimport img_hole from \"./Image/hole.png\";\nimport img_generate from \"./Image/generate.png\";\nimport img_revert from \"./Image/revert.png\";\nimport img_next from \"./Image/next.png\";\n\nfunction Grid(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Grid2(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid2\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img2\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Grid3(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid3\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img3\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Grid5(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid5\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img5\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Grid6(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid6\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img6\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Grid7(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid7\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img7\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Grid8(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid8\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img8\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Grid9(props) {\n  var img;\n\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"grid9\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img9\",\n    src: img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }));\n}\n\nclass Board extends React.Component {\n  renderGrid(i, j, key_j, dimension) {\n    if (dimension === 4) {\n      return /*#__PURE__*/React.createElement(Grid, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      });\n    } else if (dimension === 2) {\n      return /*#__PURE__*/React.createElement(Grid2, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }\n      });\n    } else if (dimension === 3) {\n      return /*#__PURE__*/React.createElement(Grid3, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      });\n    } else if (dimension === 5) {\n      return /*#__PURE__*/React.createElement(Grid5, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      });\n    } else if (dimension === 6) {\n      return /*#__PURE__*/React.createElement(Grid6, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      });\n    } else if (dimension === 7) {\n      return /*#__PURE__*/React.createElement(Grid7, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }\n      });\n    } else if (dimension === 8) {\n      return /*#__PURE__*/React.createElement(Grid8, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 9\n        }\n      });\n    } else if (dimension === 9) {\n      return /*#__PURE__*/React.createElement(Grid9, {\n        key: key_j,\n        value: this.props.grids[i][j],\n        onClick: () => this.props.onClick(i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }\n      });\n    }\n  }\n\n  render() {\n    const grids = new Array(this.props.dimension);\n\n    for (let i = 0; i < this.props.dimension; i++) {\n      grids[i] = new Array(this.props.dimension).fill(null);\n    }\n\n    const gridsUI = grids.map((row, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        className: \"board-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }\n      }, row.map((grid, j) => {\n        return this.renderGrid(i, j, j, this.props.dimension);\n      }));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 12\n      }\n    }, gridsUI);\n  }\n\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    var dimension = 4;\n    const grids = new Array(dimension);\n\n    for (let i = 0; i < dimension; i++) grids[i] = new Array(dimension).fill(null);\n\n    const current = {\n      grids: grids,\n      legal_actions: [],\n      stepNumber: 0\n    };\n    const new_current = RandomGenerate(current, dimension);\n    this.state = {\n      dimension: dimension,\n      history: [new_current],\n      historyNumber: 0,\n      showMenu: false\n    };\n    this.showMenu = this.showMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n  }\n\n  handleClick(i, j) {\n    const history = this.state.history.slice(0, this.state.historyNumber + 1);\n    const current = history[history.length - 1];\n    const grids = current.grids.slice();\n\n    if (IsWin(grids, this.state.dimension) || grids[i][j] !== 1) {\n      return;\n    }\n\n    const new_current = OnDoAction(current, i, j);\n    this.setState({\n      history: history.concat([new_current]),\n      historyNumber: history.length\n    });\n    return;\n  }\n\n  jumpTo(move) {\n    this.setState({\n      historyNumber: move\n    });\n  }\n\n  getCurrent() {\n    return this.state.history[this.state.history.length - 1];\n  }\n\n  changeDimension(dimension) {\n    const grids = new Array(dimension);\n\n    for (let i = 0; i < dimension; i++) grids[i] = new Array(dimension).fill(null);\n\n    const current = {\n      grids: grids,\n      legal_actions: [],\n      stepNumber: 0\n    };\n    const new_current = RandomGenerate(current, dimension);\n    this.setState({\n      dimension: dimension,\n      history: [new_current],\n      historyNumber: 0,\n      showMenu: false\n    }, () => {\n      document.removeEventListener(\"click\", this.closeMenu);\n    });\n  }\n\n  showMenu(event) {\n    event.preventDefault();\n    this.setState({\n      showMenu: true\n    }, () => {\n      document.addEventListener(\"click\", this.closeMenu);\n    });\n  }\n\n  closeMenu() {\n    this.setState({\n      showMenu: false\n    }, () => {\n      document.removeEventListener(\"click\", this.closeMenu);\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.historyNumber];\n    const win = IsWin(current.grids, this.state.dimension);\n    const moves = history.map((step, move) => {\n      const desc = move ? \"Go to history #\" + move : \"Go to game start\";\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: move,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        style: {\n          fontSize: \"15px\",\n          width: \"100%\",\n          border: HighlightHistory(this.state.historyNumber, move)\n        },\n        id: \"history\",\n        onClick: () => {\n          this.jumpTo(move);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }\n      }, desc));\n    });\n    let status_step, status_history;\n\n    if (win) {\n      status_step = \"Win! Step used: \" + this.state.history[this.state.historyNumber].stepNumber;\n    } else {\n      status_step = \"Steps used: \" + this.state.history[this.state.historyNumber].stepNumber;\n    }\n\n    status_history = \"Now at history #\" + this.state.historyNumber;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"game\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"game-board\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Board, {\n      grids: current.grids,\n      onClick: (i, j) => this.handleClick(i, j),\n      dimension: this.state.dimension,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"game-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"grid\",\n      onClick: () => {\n        const history = this.state.history.slice(0, this.state.historyNumber + 1);\n        const current = history[history.length - 1];\n        const new_current = RandomGenerate(current);\n        this.setState({\n          history: history.concat(new_current),\n          historyNumber: history.length\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img\",\n      src: img_generate,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"grid\",\n      onClick: () => {\n        this.jumpTo(this.state.historyNumber === 0 ? 0 : this.state.historyNumber - 1);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img\",\n      src: img_revert,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"grid\",\n      onClick: () => {\n        this.jumpTo(this.state.historyNumber === this.state.history.length - 1 ? this.state.historyNumber : this.state.historyNumber + 1);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img\",\n      src: img_next,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.showMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 13\n      }\n    }, \"Change dimension\"), this.state.showMenu ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }\n    }, \" 2 x 2 \"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }\n    }, \" 3 x 3 \"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 17\n      }\n    }, \" 4 x 4\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(5),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }\n    }, \" 5 x 5\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(6),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }\n    }, \" 6 x 6\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(7),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 17\n      }\n    }, \" 7 x 7\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(8),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 17\n      }\n    }, \" 8 x 8\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeDimension(9),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }\n    }, \" 9 x 9\")) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"game-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }\n    }, status_step), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }\n    }, status_history), /*#__PURE__*/React.createElement(\"ol\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }\n    }, moves)));\n  }\n\n}\n\nfunction HighlightHistory(historyNumber, move) {\n  if (historyNumber === move) {\n    return \"4px solid #8c8b4b\";\n  }\n}\n\nfunction DeepCopyCurrent(current) {\n  const g = current.grids.map(row => {\n    return row.slice();\n  });\n  const l = current.legal_actions.slice();\n  const new_current = {\n    grids: g,\n    legal_actions: l,\n    stepNumber: current.stepNumber\n  };\n  return new_current;\n}\n\nfunction IsWin(grids, dimension) {\n  for (let i = 0; i < dimension; i++) {\n    for (let j = 0; j < dimension; j++) {\n      if (grids[i][j] !== 0) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n/*function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\n}*/\n\n\nfunction RandomGenerate(current) {\n  var new_current = DeepCopyCurrent(current);\n  const grids = new_current.grids;\n  var legal_actions = new_current.legal_actions;\n\n  for (let i = 0; i < grids.length; i++) {\n    for (let j = 0; j < grids.length; j++) {\n      const r = Math.random();\n\n      if (r < 0.5) {\n        grids[i][j] = 1;\n        legal_actions.push([i, j]);\n      } else {\n        grids[i][j] = 0;\n      }\n    }\n  }\n\n  new_current.stepNumber = 0;\n  return new_current;\n}\n\nfunction OnDoAction(current, row, column) {\n  const dimension = current.grids.length;\n  const new_current = DeepCopyCurrent(current);\n  const grids = new_current.grids;\n  var legal_actions = new_current.legal_actions;\n  grids[row][column] = 0;\n\n  if (row - 1 !== -1) {\n    if (grids[row - 1][column] === 1) {\n      grids[row - 1][column] = 0;\n      legal_actions = legal_actions.filter(item => item[0] === row - 1 && item[1] === column);\n    } else {\n      grids[row - 1][column] = 1;\n      legal_actions.push([row - 1, column]);\n    }\n  }\n\n  if (column + 1 !== dimension) {\n    if (grids[row][column + 1] === 1) {\n      grids[row][column + 1] = 0;\n      legal_actions = legal_actions.filter(item => item[0] === row && item[1] === column + 1);\n    } else {\n      grids[row][column + 1] = 1;\n      legal_actions.push([row, column + 1]);\n    }\n  }\n\n  if (row + 1 !== dimension) {\n    if (grids[row + 1][column] === 1) {\n      grids[row + 1][column] = 0;\n      legal_actions = legal_actions.filter(item => item[0] === row + 1 && item[1] === column);\n    } else {\n      grids[row + 1][column] = 1;\n      legal_actions.push([row + 1, column]);\n    }\n  }\n\n  if (column - 1 !== -1) {\n    if (grids[row][column - 1] === 1) {\n      grids[row][column - 1] = 0;\n      legal_actions = legal_actions.filter(item => item[0] === row && item[1] === column - 1);\n    } else {\n      grids[row][column - 1] = 1;\n      legal_actions.push([row, column - 1]);\n    }\n  }\n\n  new_current.stepNumber = new_current.stepNumber + 1;\n  return new_current;\n} // ========================================\n\n\nReactDOM.render( /*#__PURE__*/React.createElement(Game, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 545,\n    columnNumber: 17\n  }\n}), document.getElementById(\"root\"));","map":{"version":3,"sources":["/Users/michael/django_react_test/django-react-boilerplate/src/index.js"],"names":["React","ReactDOM","img_up","img_hole","img_generate","img_revert","img_next","Grid","props","img","value","onClick","Grid2","Grid3","Grid5","Grid6","Grid7","Grid8","Grid9","Board","Component","renderGrid","i","j","key_j","dimension","grids","render","Array","fill","gridsUI","map","row","grid","Game","constructor","current","legal_actions","stepNumber","new_current","RandomGenerate","state","history","historyNumber","showMenu","bind","closeMenu","handleClick","slice","length","IsWin","OnDoAction","setState","concat","jumpTo","move","getCurrent","changeDimension","document","removeEventListener","event","preventDefault","addEventListener","win","moves","step","desc","fontSize","width","border","HighlightHistory","status_step","status_history","DeepCopyCurrent","g","l","r","Math","random","push","column","filter","item","getElementById"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport img_up from \"./Image/up.png\";\nimport img_hole from \"./Image/hole.png\";\nimport img_generate from \"./Image/generate.png\";\nimport img_revert from \"./Image/revert.png\";\nimport img_next from \"./Image/next.png\";\n\nfunction Grid(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid\" onClick={props.onClick}>\n      <img className=\"img\" src={img} alt=\"\" />\n    </button>\n  );\n}\nfunction Grid2(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid2\" onClick={props.onClick}>\n      <img className=\"img2\" src={img} alt=\"\" />\n    </button>\n  );\n}\nfunction Grid3(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid3\" onClick={props.onClick}>\n      <img className=\"img3\" src={img} alt=\"\" />\n    </button>\n  );\n}\nfunction Grid5(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid5\" onClick={props.onClick}>\n      <img className=\"img5\" src={img} alt=\"\" />\n    </button>\n  );\n}\nfunction Grid6(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid6\" onClick={props.onClick}>\n      <img className=\"img6\" src={img} alt=\"\" />\n    </button>\n  );\n}\nfunction Grid7(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid7\" onClick={props.onClick}>\n      <img className=\"img7\" src={img} alt=\"\" />\n    </button>\n  );\n}\nfunction Grid8(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid8\" onClick={props.onClick}>\n      <img className=\"img8\" src={img} alt=\"\" />\n    </button>\n  );\n}\nfunction Grid9(props) {\n  var img;\n  if (props.value === 1) {\n    img = img_up;\n  } else if (props.value === 0) {\n    img = img_hole;\n  } else {\n    img = img_hole;\n  }\n  return (\n    <button className=\"grid9\" onClick={props.onClick}>\n      <img className=\"img9\" src={img} alt=\"\" />\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n  renderGrid(i, j, key_j, dimension) {\n    if (dimension === 4) {\n      return (\n        <Grid\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    } else if (dimension === 2) {\n      return (\n        <Grid2\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    } else if (dimension === 3) {\n      return (\n        <Grid3\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    } else if (dimension === 5) {\n      return (\n        <Grid5\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    } else if (dimension === 6) {\n      return (\n        <Grid6\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    } else if (dimension === 7) {\n      return (\n        <Grid7\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    } else if (dimension === 8) {\n      return (\n        <Grid8\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    } else if (dimension === 9) {\n      return (\n        <Grid9\n          key={key_j}\n          value={this.props.grids[i][j]}\n          onClick={() => this.props.onClick(i, j)}\n        />\n      );\n    }\n  }\n\n  render() {\n    const grids = new Array(this.props.dimension);\n    for (let i = 0; i < this.props.dimension; i++) {\n      grids[i] = new Array(this.props.dimension).fill(null);\n    }\n    const gridsUI = grids.map((row, i) => {\n      return (\n        <div key={i} className=\"board-row\">\n          {row.map((grid, j) => {\n            return this.renderGrid(i, j, j, this.props.dimension);\n          })}\n        </div>\n      );\n    });\n\n    return <div>{gridsUI}</div>;\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    var dimension = 4;\n    const grids = new Array(dimension);\n    for (let i = 0; i < dimension; i++)\n      grids[i] = new Array(dimension).fill(null);\n    const current = {\n      grids: grids,\n      legal_actions: [],\n      stepNumber: 0,\n    };\n    const new_current = RandomGenerate(current, dimension);\n\n    this.state = {\n      dimension: dimension,\n\n      history: [new_current],\n      historyNumber: 0,\n\n      showMenu: false,\n    };\n\n    this.showMenu = this.showMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n  }\n  handleClick(i, j) {\n    const history = this.state.history.slice(0, this.state.historyNumber + 1);\n    const current = history[history.length - 1];\n    const grids = current.grids.slice();\n    if (IsWin(grids, this.state.dimension) || grids[i][j] !== 1) {\n      return;\n    }\n    const new_current = OnDoAction(current, i, j);\n\n    this.setState({\n      history: history.concat([new_current]),\n      historyNumber: history.length,\n    });\n    return;\n  }\n\n  jumpTo(move) {\n    this.setState({\n      historyNumber: move,\n    });\n  }\n\n  getCurrent() {\n    return this.state.history[this.state.history.length - 1];\n  }\n\n  changeDimension(dimension) {\n    const grids = new Array(dimension);\n    for (let i = 0; i < dimension; i++)\n      grids[i] = new Array(dimension).fill(null);\n    const current = {\n      grids: grids,\n      legal_actions: [],\n      stepNumber: 0,\n    };\n    const new_current = RandomGenerate(current, dimension);\n\n    this.setState(\n      {\n        dimension: dimension,\n\n        history: [new_current],\n        historyNumber: 0,\n\n        showMenu: false,\n      },\n      () => {\n        document.removeEventListener(\"click\", this.closeMenu);\n      }\n    );\n  }\n\n  showMenu(event) {\n    event.preventDefault();\n\n    this.setState({ showMenu: true }, () => {\n      document.addEventListener(\"click\", this.closeMenu);\n    });\n  }\n\n  closeMenu() {\n    this.setState({ showMenu: false }, () => {\n      document.removeEventListener(\"click\", this.closeMenu);\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.historyNumber];\n    const win = IsWin(current.grids, this.state.dimension);\n\n    const moves = history.map((step, move) => {\n      const desc = move ? \"Go to history #\" + move : \"Go to game start\";\n      return (\n        <li key={move}>\n          <button\n            style={{\n              fontSize: \"15px\",\n              width: \"100%\",\n              border: HighlightHistory(this.state.historyNumber, move),\n            }}\n            id=\"history\"\n            onClick={() => {\n              this.jumpTo(move);\n            }}\n          >\n            {desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status_step, status_history;\n    if (win) {\n      status_step =\n        \"Win! Step used: \" +\n        this.state.history[this.state.historyNumber].stepNumber;\n    } else {\n      status_step =\n        \"Steps used: \" +\n        this.state.history[this.state.historyNumber].stepNumber;\n    }\n    status_history = \"Now at history #\" + this.state.historyNumber;\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            grids={current.grids}\n            onClick={(i, j) => this.handleClick(i, j)}\n            dimension={this.state.dimension}\n          />\n        </div>\n        <div className=\"game-control\">\n          <button\n            className=\"grid\"\n            onClick={() => {\n              const history = this.state.history.slice(\n                0,\n                this.state.historyNumber + 1\n              );\n              const current = history[history.length - 1];\n              const new_current = RandomGenerate(current);\n              this.setState({\n                history: history.concat(new_current),\n                historyNumber: history.length,\n              });\n            }}\n          >\n            <img className=\"img\" src={img_generate} alt=\"\" />\n          </button>\n          <button\n            className=\"grid\"\n            onClick={() => {\n              this.jumpTo(\n                this.state.historyNumber === 0\n                  ? 0\n                  : this.state.historyNumber - 1\n              );\n            }}\n          >\n            <img className=\"img\" src={img_revert} alt=\"\" />\n          </button>\n          <button\n            className=\"grid\"\n            onClick={() => {\n              this.jumpTo(\n                this.state.historyNumber === this.state.history.length - 1\n                  ? this.state.historyNumber\n                  : this.state.historyNumber + 1\n              );\n            }}\n          >\n            <img className=\"img\" src={img_next} alt=\"\" />\n          </button>\n\n          <div>\n            <button onClick={this.showMenu}>Change dimension</button>\n\n            {this.state.showMenu ? (\n              <div className=\"menu\">\n                <button onClick={() => this.changeDimension(2)}> 2 x 2 </button>\n                <button onClick={() => this.changeDimension(3)}> 3 x 3 </button>\n                <button onClick={() => this.changeDimension(4)}> 4 x 4</button>\n                <button onClick={() => this.changeDimension(5)}> 5 x 5</button>\n                <button onClick={() => this.changeDimension(6)}> 6 x 6</button>\n                <button onClick={() => this.changeDimension(7)}> 7 x 7</button>\n                <button onClick={() => this.changeDimension(8)}> 8 x 8</button>\n                <button onClick={() => this.changeDimension(9)}> 9 x 9</button>\n              </div>\n            ) : null}\n          </div>\n        </div>\n        <div className=\"game-info\">\n          <div className=\"status\">{status_step}</div>\n          <div className=\"status\">{status_history}</div>\n          <ol>{moves}</ol>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction HighlightHistory(historyNumber, move) {\n  if (historyNumber === move) {\n    return \"4px solid #8c8b4b\";\n  }\n}\n\nfunction DeepCopyCurrent(current) {\n  const g = current.grids.map((row) => {\n    return row.slice();\n  });\n  const l = current.legal_actions.slice();\n  const new_current = {\n    grids: g,\n    legal_actions: l,\n    stepNumber: current.stepNumber,\n  };\n  return new_current;\n}\n\nfunction IsWin(grids, dimension) {\n  for (let i = 0; i < dimension; i++) {\n    for (let j = 0; j < dimension; j++) {\n      if (grids[i][j] !== 0) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/*function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\n}*/\n\nfunction RandomGenerate(current) {\n  var new_current = DeepCopyCurrent(current);\n\n  const grids = new_current.grids;\n  var legal_actions = new_current.legal_actions;\n  for (let i = 0; i < grids.length; i++) {\n    for (let j = 0; j < grids.length; j++) {\n      const r = Math.random();\n      if (r < 0.5) {\n        grids[i][j] = 1;\n        legal_actions.push([i, j]);\n      } else {\n        grids[i][j] = 0;\n      }\n    }\n  }\n  new_current.stepNumber = 0;\n\n  return new_current;\n}\n\nfunction OnDoAction(current, row, column) {\n  const dimension = current.grids.length;\n  const new_current = DeepCopyCurrent(current);\n  const grids = new_current.grids;\n  var legal_actions = new_current.legal_actions;\n\n  grids[row][column] = 0;\n\n  if (row - 1 !== -1) {\n    if (grids[row - 1][column] === 1) {\n      grids[row - 1][column] = 0;\n      legal_actions = legal_actions.filter(\n        (item) => item[0] === row - 1 && item[1] === column\n      );\n    } else {\n      grids[row - 1][column] = 1;\n      legal_actions.push([row - 1, column]);\n    }\n  }\n  if (column + 1 !== dimension) {\n    if (grids[row][column + 1] === 1) {\n      grids[row][column + 1] = 0;\n      legal_actions = legal_actions.filter(\n        (item) => item[0] === row && item[1] === column + 1\n      );\n    } else {\n      grids[row][column + 1] = 1;\n      legal_actions.push([row, column + 1]);\n    }\n  }\n  if (row + 1 !== dimension) {\n    if (grids[row + 1][column] === 1) {\n      grids[row + 1][column] = 0;\n      legal_actions = legal_actions.filter(\n        (item) => item[0] === row + 1 && item[1] === column\n      );\n    } else {\n      grids[row + 1][column] = 1;\n      legal_actions.push([row + 1, column]);\n    }\n  }\n  if (column - 1 !== -1) {\n    if (grids[row][column - 1] === 1) {\n      grids[row][column - 1] = 0;\n      legal_actions = legal_actions.filter(\n        (item) => item[0] === row && item[1] === column - 1\n      );\n    } else {\n      grids[row][column - 1] = 1;\n      legal_actions.push([row, column - 1]);\n    }\n  }\n  new_current.stepNumber = new_current.stepNumber + 1;\n\n  return new_current;\n}\n\n// ========================================\n\nReactDOM.render(<Game />, document.getElementById(\"root\"));\n"]},"metadata":{},"sourceType":"module"}